# 输入URL到渲染完成系列


1.浏览器的地址栏输入URL并回车

2.浏览器会查找当前URL是否存在缓存，并比较缓存是否过期

3.DNS解析URL对应的IP

4.根据IP建立TCP链接（三次握手）

5.HTTP发起请求

6.服务器处理请求，浏览器接受HTTP响应

7.渲染页面构建DOM树

8.关闭TCPTCP连接（四次挥手）




### 一.URL 

    我们常见的URL一般包含三个部分:协议名、域名、端口号（此外还包含一些路径、查询及其他片段）
    我们最常见的的协议是HTTP协议，此外还有HTTPS、FTP、FILE等等。
    HTTP默认端口为80端口，HTTPS默认端口为443

### 二.缓存



### 三.DNS解析

    当回车敲响的那一刻，会先查找浏览器缓存，看看是否存在该域名的解析，找到就反回
    如果没有则会查向系统缓存中的hosts文件，找到就反回
    还没有就查找路由器缓存，查看路由映射表，如果还没有就
    查找本地DNS服务器，找到就反回，如果没有
    最后迭代查询，按根域服务器 ->顶级域,.cn->第二层域，xx.cn ->子域，www.xx.cn的顺序找到IP地址。

### 四.TCP链接

    在通过第一步的DNS域名解析后，获取到了服务器的IP地址，在获取到IP地址后，便会开始建立一次连接，这是由TCP协议完成的，主要通过三次握手进行连接。
    ACK:确认字符 
    SYN:同步序列编号
    第一次握手：Client将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给Server，Client进入SYN_SENT状态，等待Server确认。
    第二次握手：Server收到数据包后由标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置为1，ACK=J+1，随机产生一个值seq=K，并将该数据包发送给Client以确认连接请求，Server进入SYN_RCVD状态。
    第三次握手：Client收到确认后，检查ACK是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ACK=K+1，并将该数据包发送给Server，Server检查ACK是否为K+1，ACK是否为1，如果正确则连接建立成功，Client和Server进入ESTABLISHED状态，完成三次握手，随后Client与Server之间可以开始传输数据了。

### 五.浏览器向服务器发送HTTP请求

    完整的HTTP请求包含请求起始行、请求头部、请求主体三部分

### 六.浏览器接收响应

### 七.页面渲染

### 八.关闭TCP连接或继续保持连接
