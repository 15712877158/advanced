# **前端性能优化**

## 前端优化性能可以氛围两个方面，加载性能和渲染性能

### **一.加载性能**

    避免不必要的下载
    优化资源编码和大小
    图像优化
    自动优化图像
    用视频替换动画GIF
    网页字体优化
    HTTP缓存

### 1.减少HTTP
    请求合并CSS、JS、合并图片（使用雪碧图）
    
### 2.压缩HTML、CSS、JavaScript
    减少资源大小可以加快网页显示速度，所以要对HTML、CSS、JavaScript等进行代码压缩

### 3.缓存
    使用缓存可以减少向服务器的请求数
    a)缓存一切可以缓存的资源
    b）使用长Cache
    c)使用外链式引用CSS、JS

### 4.确保无阻塞。
    写在HTML头部的JavaScript（无异步），和写在HTML标签中的Style会阻塞页面的渲染，因此CSS放在页面头部并使用Link方式引入，避免在HTML标签中写Style，JavaScript放在页面尾部或使用异步方式加载

### 5.使用首屏加载。
    首屏的快速显示，可以大大提升用户对页面速度的感知，因此应尽量针对首屏的快速显示做优化。

### 6.按需加载。
    将不影响首屏的资源和当前屏幕资源不用的资源放到用户需要时才加载，可以大大提升重要资源的显示速度和降低总体流量（PS：按需加载会导致大量重绘，影响渲染性能）。

    a) LazyLoad；
    b) 滚屏加载；
    c) 通过Media Query加载；

### 7.预加载。
    大型重资源页面（如游戏）可使用增加Loading的方法，资源加载完成后再显示页面。但Loading时间过长，会造成用户流失。对用户行为分析，可以在当前页加载下一页资源，提升速度；
    a) 可感知Loading(如进入空间游戏的Loading)；
    b) 不可感知的Loading（如提前加载下一页）；

### **一.渲染性能**

    防抖与节流

    防抖：对于短时间内连续触发的事件（上面的滚动事件），防抖的含义就是让某个时间期限（如上面的1000毫秒）内，事件处理函数只执行一次


    节流：如果短时间内大量触发同一事件，那么在函数执行一次之后，该函数在指定的时间期限内不再工作，直至过了这段时间才重新生效。